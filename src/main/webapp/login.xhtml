<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	template="template/basicTemplate.xhtml">
	<ui:define name="script">
		<style type="text/css">
			@import url(resources/css/login.css);
		</style>
	</ui:define>
	<ui:define name="head">

		<div class="heine-logo">
			<p:graphicImage value="resources/images/logoHeine.png" />
		</div>
		<div class="heine-logo-text">SYDNEY LOGIN</div>
	</ui:define>

	<ui:define name="container">
		<div class="logincontainer">
			<h:form>
				<p:growl id="growl" showDetail="true" life="3000" />

				<div class="loginPanel" style="margin:auto;">
					<h:panelGrid columns="1" cellpadding="15">
						<p:inputText value="#{loginBean.username}" id="username"
							styleClass="username" required="true" label="Username" />
						<p:password autocomplete="off" value="#{loginBean.password}"
							id="password" styleClass="password" required="true"
							label="Password" />
						<f:facet name="footer">
							<p:commandButton id="loginButton" styleClass="loginButton"
								value="#{msg['login']}" actionListener="#{loginBean.login}"
								oncomplete="handleLoginRequest(xhr, status, args)"
								update="growl" /> 
						</f:facet>
					</h:panelGrid>
						<p:watermark for="password" value="#{msg['login_password']}" />
						<p:watermark for="username" value="#{msg['login_username']}" />
					
				</div>
			</h:form>
		</div>
		<script type="text/javascript">  
	    function handleLoginRequest(xhr, status, args) {  
	        if(args.validationFailed || !args.loggedIn) {  
	        }   
	        else {  
	        	 window.location.href = args.url;
	        }  
	    }  

	     $(document).ready(function() {
	    	$('.logincontainer').css("margin-top",$('#container').height()/5-3);
	    	$('.logincontainer').css("margin-left",$('#container').width()/2-265);
	    });

	    $(window).resize(function() {
	    	$('.logincontainer').css("margin-top",$('#container').height()/5-3);
	    	$('.logincontainer').css("margin-left",$('#container').width()/2-265);
	    }); 
    	
	</script>
	</ui:define>
</ui:composition>