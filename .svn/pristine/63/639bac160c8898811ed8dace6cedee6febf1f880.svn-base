var imageRatioWidth = 4;
var imageRatioHeight = 3;
var BM_LEFT_WIDTH = 269; // width of left bodymap image 
var BM_FRONT_WIDTH = 235; // width of front bodymap image
var BM_RIGHT_WIDTH = 269; // width of right bodymap image
var BM_BACK_WIDTH = 235; // width of back bodymap image
var BM_LEFT_DETAIL_WIDTH = 1607; // width of left bodymap detail image 
var BM_FRONT_DETAIL_WIDTH = 1402; // width of front bodymap detail image
var BM_RIGHT_DETAIL_WIDTH = 1607; // width of right bodymap detail image
var BM_BACK_DETAIL_WIDTH = 1402; // width of back bodymap detail image
var LOCATION_SPACE = 35; // width reserved for displaying location info
var BETWEEN_LOCATION_SPACE = 5; // width reserved for space between location info
var BM_HEIGHT = 719; // height of the bodymap images
var SPACER_BETWEEN_IMAGE_COLUMN_AND_BODYMAP = 40;
var SCROLL_BAR_WIDTH = 25;
var boxesLeft;

function showExportLayer(){
	window.onresize = doExportLayout;
	doExportLayout();
	 $('#dimmer').css('display','inline');
	 $('#exportFrame').css('display','inline');
	 $('#exportBottomButton').css('display','inline');
}

function hideExportLayer(){
	 $('#dimmer').css('display','none');
	 $('#exportFrame').css('display','none');
	 $('#exportBottomButton').css('display','none');
}

function doExportLayout(){
	var innerColumnHeight = window.innerHeight - 120;
	var rowHeight = innerColumnHeight/6;
	$('.checkBoxWrapper').css("margin-bottom", rowHeight-35);
//	for(var i = 0; i< boxesLeft.length; i++){
//		var node = boxesLeft[i];
//		alert(node);
//		node.css("top", innerColumnHeigth*i/6);
//	}
	
	$('.imageThumbnailExport').css("height", (innerColumnHeight/6)-2);
	var imageWidth = (innerColumnHeight/6) * 4 /3;
	$('#exportBottomButton').css("left", (window.innerWidth/2)-80);
	$('#exportCenterBottomButtons').css("left", (window.innerWidth/2)-300);
	$('#exportCenterTopButtons').css("left", (window.innerWidth/2)-140);
	$('#exportCenterImageColumn').css("width", 2*imageWidth+70+SCROLL_BAR_WIDTH);	
	$('#exportCenterBodyMap').css("left", 2*imageWidth+70+SPACER_BETWEEN_IMAGE_COLUMN_AND_BODYMAP);
	
	var maxCenterWidth = window.innerWidth - 120 - 2*imageWidth - 70 - SPACER_BETWEEN_IMAGE_COLUMN_AND_BODYMAP;
	var maxCenterHeight = window.innerHeight - 240;
	var originalBodymapWidth = BM_LEFT_WIDTH + BM_FRONT_WIDTH + BM_RIGHT_WIDTH + BM_BACK_WIDTH;
	var availableWidthForBodymap = maxCenterWidth - 8 * LOCATION_SPACE - 3 * BETWEEN_LOCATION_SPACE;
	var originalBodymapHeight = BM_HEIGHT;
	var bodymapWidthRatio = availableWidthForBodymap / originalBodymapWidth;
	var bodymapHeightRatio =  maxCenterHeight / originalBodymapHeight;
	bodymapRatio = Math.min(bodymapWidthRatio, bodymapHeightRatio);
	
	$("#exportBodymapLeft").width(BM_LEFT_WIDTH * bodymapRatio);
	$("#exportBodymapLeft").height(BM_HEIGHT * bodymapRatio);
	$("#exportBodymapLeft").css("left", LOCATION_SPACE);
	$("#exportBodymapFront").width(BM_FRONT_WIDTH * bodymapRatio);
	$("#exportBodymapFront").height(BM_HEIGHT * bodymapRatio);
	$("#exportBodymapFront").css("left", BM_LEFT_WIDTH * bodymapRatio + 3 * LOCATION_SPACE + BETWEEN_LOCATION_SPACE);
	$("#exportBodymapRight").width(BM_RIGHT_WIDTH * bodymapRatio);
	$("#exportBodymapRight").height(BM_HEIGHT * bodymapRatio);
	$("#exportBodymapRight").css("left", BM_LEFT_WIDTH * bodymapRatio + BM_FRONT_WIDTH * bodymapRatio + 5 * LOCATION_SPACE + 2 * BETWEEN_LOCATION_SPACE);
	$("#exportBodymapBack").width(BM_BACK_WIDTH * bodymapRatio);
	$("#exportBodymapBack").height(BM_HEIGHT * bodymapRatio);	
	$("#exportBodymapBack").css("left", BM_LEFT_WIDTH * bodymapRatio + BM_FRONT_WIDTH * bodymapRatio + BM_RIGHT_WIDTH * bodymapRatio + 7 * LOCATION_SPACE + 3 * BETWEEN_LOCATION_SPACE);
}

function selectAll(){
	exportCenterImageColumnCheckboxWidgetVarLeftOne.check();
	exportCenterImageColumnCheckboxWidgetVarLeftTwo.check();
	exportCenterImageColumnCheckboxWidgetVarLeftThree.check();
	exportCenterImageColumnCheckboxWidgetVarLeftFour.check();
	exportCenterImageColumnCheckboxWidgetVarLeftFive.check();
	exportCenterImageColumnCheckboxWidgetVarLeftSix.check();
	exportCenterImageColumnCheckboxWidgetVarRightOne.check();
	exportCenterImageColumnCheckboxWidgetVarRightTwo.check();
	exportCenterImageColumnCheckboxWidgetVarRightThree.check();
	exportCenterImageColumnCheckboxWidgetVarRightFour.check();
	exportCenterImageColumnCheckboxWidgetVarRightFive.check();
	exportCenterImageColumnCheckboxWidgetVarRightSix.check();
}

function deselectAll(){
	exportCenterImageColumnCheckboxWidgetVarLeftOne.uncheck();
	exportCenterImageColumnCheckboxWidgetVarLeftTwo.uncheck();
	exportCenterImageColumnCheckboxWidgetVarLeftThree.uncheck();
	exportCenterImageColumnCheckboxWidgetVarLeftFour.uncheck();
	exportCenterImageColumnCheckboxWidgetVarLeftFive.uncheck();
	exportCenterImageColumnCheckboxWidgetVarLeftSix.uncheck();
	exportCenterImageColumnCheckboxWidgetVarRightOne.uncheck();
	exportCenterImageColumnCheckboxWidgetVarRightTwo.uncheck();
	exportCenterImageColumnCheckboxWidgetVarRightThree.uncheck();
	exportCenterImageColumnCheckboxWidgetVarRightFour.uncheck();
	exportCenterImageColumnCheckboxWidgetVarRightFive.uncheck();
	exportCenterImageColumnCheckboxWidgetVarRightSix.uncheck();
}