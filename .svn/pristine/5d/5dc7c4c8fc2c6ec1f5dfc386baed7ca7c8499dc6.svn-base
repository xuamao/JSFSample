/*****************************************
 * 
 * Project: Cube Application Heine
 * Package Type:
 * Create by: amao.xu@altran.com
 * Date: 13.06.2013
 *
 *****************************************/
package de.heine.cube.onlineMock;

import java.util.HashMap;
import java.util.Map;

import de.heine.cube.common.api.UserService;
import de.heine.cube.common.dto.UserVO;
import de.heine.cube.common.exception.ServiceException;
import de.heine.cube.common.exception.SystemException;

/**
 * 
 * @author axu
 * 
 */
public class UserServiceMock implements UserService {

	
	private static Map<String, UserVO> map = new HashMap<String, UserVO>();
	
	public UserServiceMock(){
		UserVO user = new UserVO();
	 	user.setUsername("admin");
	 	user.setPassword("admin");
	 	user.setId(1);
	 	user.setFailed_Logins(0);
	 	user.setLocked("false");
	 	
	 	map.put(user.getUsername(), user);
		
	}

	@Override
	public UserVO createUser(String username, String password, String role,
			int userID) throws ServiceException, SystemException {
		
		return null;
	}

	/* (non-Javadoc)
	 * @see de.heine.cube.common.api.UserService#editUser(java.lang.String, java.lang.String, java.lang.String, int)
	 */
	@Override
	public UserVO editUser(String username, String password, String role,
			int userID) throws ServiceException, SystemException {
		// TODO Auto-generated method stub
		return null;
	}

	/* (non-Javadoc)
	 * @see de.heine.cube.common.api.UserService#loginUser(java.lang.String, java.lang.String)
	 */
	@Override
	public UserVO loginUser(String username, String password)
			throws ServiceException, SystemException {
			 if(map.containsKey(username)){
				 	UserVO user = map.get(username);
				 	if(user.getLocked().equals("true")){
				 		throw new ServiceException("User is locked");
				 	}
				 	
				 	if(!(user.getPassword().equals(password))){
				 		throw new ServiceException("Wrong password");
				 	}
				 	
				 	return user;
		     }
		return null;
	}

	/* (non-Javadoc)
	 * @see de.heine.cube.common.api.UserService#unlockAccount(java.lang.String, int)
	 */
	@Override
	public UserVO unlockAccount(String username, int userID)
			throws ServiceException, SystemException {
		// TODO Auto-generated method stub
		return null;
	}
	
	

}
